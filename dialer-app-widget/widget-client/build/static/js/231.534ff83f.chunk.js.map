{"version":3,"file":"static/js/231.534ff83f.chunk.js","mappings":"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","sources":["assets/back-button.svg","pages/otp/useOtp.js","pages/otp/index.jsx"],"sourcesContent":["var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgBackButton(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 7,\n    height: 12,\n    viewBox: \"0 0 7 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 11L1 6L6 1\",\n    stroke: \"#404385\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBackButton);\nexport default __webpack_public_path__ + \"static/media/back-button.085dd700a2a9f697986fc302e300b959.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect } from \"react\";\nimport service from \"../../utils/service\";\nimport API from \"../../config/api\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { AUTH } from \"../../routes/routes\";\nimport Peer from \"peerjs\";\nimport { toast } from \"react-toastify\";\n\nconst useOtp = () => {\n  const [otp, setOtp] = React.useState(\"\");\n  const [error, setError] = React.useState(\"\");\n  const [blur, setBlur] = React.useState(false);\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const otpHandler = async () => {\n    if (!otp) {\n      setBlur(true);\n      return;\n    }\n    try {\n      const peer = new Peer();\n      await new Promise((resolve) => {\n        peer.on(\"open\", (id) => resolve(id));\n      });\n      const peerId = peer.id;\n      const response = await service.post(API.OTP_SEND, {\n        otp,\n        phoneNumber: `+91${location.state.phone}`,\n        peerId,\n      });\n\n      if (response.data?.statusCode === 200) {\n        navigate(`${AUTH.BASE_PATH}/${AUTH.PAGES.DEPARTMENT}`, {\n          state: {\n            phone: location.state.phone,\n            name: location.state.name,\n            otp,\n            peerId,\n          },\n        });\n      } else {\n        setError(response.data?.message);\n        toast.error(response.data?.message);\n      }\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    if (!location.state?.phone) {\n      navigate(`/${AUTH.BASE_PATH}/${AUTH.PAGES.MOBILE}`);\n    }\n  });\n  return { otp, setOtp, blur, setBlur, otpHandler, error };\n};\n\nexport default useOtp;\n","import React from 'react'\nimport { Link, useLocation } from \"react-router-dom\";\nimport BackButton from \"../../assets/back-button.svg\";\nimport useOtp from './useOtp';\n\nconst Otp = () => {\n  const { otp, setOtp, blur, setBlur, otpHandler, error } = useOtp()\n  const location = useLocation()\n  return (\n    <div>\n      <div className=\"mt-20 mx-12\">\n        {/* <span className=\"inline-flex items-baseline  text-indigo-900 cursor-pointer\">\n          <img src={BackButton} alt=\"Phone-icon\" />\n          <h3 className=\"px-1\">Back</h3>\n        </span> */}\n      </div>\n      <div className=\"container py-10 px-10 mx-0 flex min-w-full flex-col items-center\">\n        <div className=\"text-center\">\n          <h1 className=\"font-['body'] font-medium leading-8 text-2xl\">\n            Phone verification\n          </h1>\n          <p className=\"font-['body'] text-indigo-900 font-normal text-base space-y-1 leading-6 tracking-wider\">\n            We have sent you One Time Password to your +91 {location?.state?.phone}\n          </p>\n        </div>\n        <div className=\"mt-12 font-['body'] text-indigo-900\">\n          <h4 className=\"font-medium text-base\">\n            Otp Verification Code\n          </h4>\n          <input\n            className=\"item-center rounded-lg w-[286px] h-[50px] p-3.5 border border-blue-300 font-['body'] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\n            type=\"number\"\n            placeholder=\"verification code send\"\n            value={otp}\n            onChange={(e) => setOtp(e.target.value)}\n            onBlur={() => setBlur(true)}\n          />\n          {blur && otp === \"\" && <p className=\"text-[red]\">{error || \"Otp is required\"}</p>}\n        </div>\n        <div className=\"relative flex pl-12 py-5 items-center\">\n          <p className=\"font-['body'] text-right-indigo-900 font-normal text-base space-y-1 leading-6 tracking-wider\">\n            Didn't recieve the code? <span className=\"text-sky-600\"> Resend</span>\n          </p>\n          <div className=\"flex-grow border-t border-gray-400\"></div>\n        </div>\n\n        <button className=\"w-[286px] h-[50px] rounded-lg bg-sky-600 text-gray-50 font-['body']\" disabled={otp === \"\" ? true : false} onClick={otpHandler}>\n          Get In\n        </button>\n\n      </div>\n    </div>\n  )\n}\n\nexport default Otp"],"names":["_React$useState","React","_React$useState2","_slicedToArray","otp","setOtp","_React$useState3","_React$useState4","error","setError","_React$useState5","_React$useState6","blur","setBlur","location","useLocation","navigate","useNavigate","otpHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_response$data","peer","peerId","response","_response$data2","_response$data3","wrap","_context","prev","next","abrupt","Peer","Promise","resolve","on","id","service","post","API","OTP_SEND","phoneNumber","concat","state","phone","sent","data","statusCode","AUTH","BASE_PATH","PAGES","DEPARTMENT","name","message","toast","t0","stop","apply","arguments","useEffect","_location$state","MOBILE","_useOtp","useOtp","_jsxs","children","_jsx","className","type","placeholder","value","onChange","e","target","onBlur","disabled","onClick"],"sourceRoot":""}