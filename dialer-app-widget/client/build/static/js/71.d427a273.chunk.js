"use strict";(self.webpackChunkdialer_app=self.webpackChunkdialer_app||[]).push([[71],{2634:function(e,r,t){t(2791);r.Z=t.p+"static/media/searchicon.6bec5882e84ffe20b7fd011c414f7272.svg"},755:function(e,r,t){t(2791);var n=t(184);r.Z=function(e){var r=e.label,t=void 0===r?"Label":r,a=e.onClick,s=e.type,o=void 0===s?"":s,u=e.btnStyle,l=void 0===u?"fill":u,i=e.width,c=void 0===i?"100%":i;return(0,n.jsx)("button",{onClick:a,type:o,className:"mx-[8px] p-2.5 w-[".concat(c,"] h-[40px] rounded-[8px]  ").concat("fill"===l?"bg-[#3F8CFF] text-[#fff] hover:bg-[#387feb]":"border-[1px] hover:border-[2px] border-[#3F8CFF] text-[#3F8CFF]"),children:t})}},8105:function(e,r,t){var n=t(885),a=t(2791),s=t(184);r.Z=function(e){var r=e.id,t=e.label,o=e.placeholder,u=e.width,l=void 0===u?"100%":u,i=e.type,c=void 0===i?"text":i,d=e.name,p=e.value,h=e.onChange,m=e.onBlur,x=e.formik,v=e.className,f=e.children,b=a.Children.toArray(f),w=(0,a.useState)("password"===c),Z=(0,n.Z)(w,2),g=Z[0],j=Z[1],C=(0,a.useRef)();return(0,s.jsxs)("div",{className:"w-[".concat(l,"]"),children:[(0,s.jsx)("label",{htmlFor:r,className:"text-[0.9rem] text-[#404385]",children:t}),(0,s.jsxs)("div",{className:v?"".concat(v," ").concat(x.touched[d]&&x.errors[d]?"border-[#bb3d34]":"border-[#CFDEF4]"):"single-input-wrapper flex items-center justify-between my-[12px] bg-[#fff] border-[2px] ".concat(x.touched[d]&&x.errors[d]?"border-[#bb3d34]":"border-[#CFDEF4]"," drop-shadow-[0_0_2px_#CFDEF4]  focus:outline-none rounded-[4px] h-[40px]"),children:[(0,s.jsx)("input",{ref:C,id:r,type:c,name:d,className:"w-[100%] h-full p-[8px] text-[0.9rem] focus:outline-none",placeholder:o,onChange:h,value:p,onBlur:m}),(0,s.jsx)("span",{className:"mr-[10px] cursor-pointer",onClick:"password"===c&&function(){switch(C.current.type){case"password":C.current.type="text",j(!1);break;case"text":C.current.type="password",j(!0);break;default:j(!1)}},children:f&&1===b.length?f:!0===g?b[0]:b[1]})]}),x.touched[d]&&x.errors[d]?(0,s.jsx)("p",{className:"text-[14px] text-red-600 relative bottom-[8px]",children:x.errors[d]}):null]})}},8071:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n=t(885),a=t(2791),s=t(2634);var o=t.p+"static/media/pencil.ee8f9d25ee839f943fad0ec1bed0560d.svg",u=t(755),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return r?e&&e.length>0&&(null===e||void 0===e?void 0:e.filter((function(e){var n;return null===(n=e[r])||void 0===n?void 0:n.toLowerCase().includes(null===t||void 0===t?void 0:t.toLowerCase())}))):e},i=t(7948),c=t.n(i),d=t(8485),p=t(184),h=function(e){var r=e.id,t=e.label,n=e.options,a=void 0===n?[]:n,s=e.width,o=void 0===s?"100%":s,u=e.name,l=e.value,i=void 0===l?"":l,c=e.onChange,d=e.onBlur,h=e.formik,m=e.placeholder,x=e.className;return(0,p.jsxs)("div",{className:"flex flex-col w-[".concat(o,"] justify-center mt-[12px]"),children:[(0,p.jsx)("label",{htmlFor:r,className:"text-[0.9rem] text-[#404385]",children:t}),(0,p.jsx)("select",{placeholder:"Select your department",name:u,value:i,onChange:c,onBlur:d,id:r,className:x?"".concat(x," ").concat(h.touched[u]&&h.errors[u]?"border-[#bb3d34]":"border-[#CFDEF4]"," "):"my-[12px] bg-[#fff] border-[2px] ".concat(h.touched[u]&&h.errors[u]?"border-[#bb3d34]":"border-[#CFDEF4]","  drop-shadow-[0_0_2px_#CFDEF4] text-[0.9rem] p-[8px] focus:outline-none rounded-[4px] h-[40px] "),children:a.length>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("option",{value:"",disabled:!0,className:"text-[#8F8F8F]",children:null!==m&&void 0!==m?m:"-Select an option-"}),null===a||void 0===a?void 0:a.map((function(e,r){return(0,p.jsx)("option",{value:null===e||void 0===e?void 0:e.name,children:null===e||void 0===e?void 0:e.name},r)}))]}):(0,p.jsx)("option",{value:"",children:"-No data-"})}),h.touched[u]&&h.errors[u]?(0,p.jsx)("div",{className:"text-[14px] text-red-600 relative bottom-[8px]",children:h.errors[u]}):null]})},m=t(8105),x=t(9138),v=t(5345),f=t(4707),b=function(e){var r=e.setModal,t=e.modal,n=(0,d.Z)(null===t||void 0===t?void 0:t.id,t),a=n.departmentList,s=n.formik,o=!(null===t||void 0===t||!t.id);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,p.jsxs)("h2",{className:"text-[1.3rem] font-medium leading-7 text-[#353945]",children:[o?"Edit":"Add"," New Agent"]}),(0,p.jsxs)("button",{onClick:function(){return r({show:!1,id:"",username:"",department:""})},children:[" ",(0,p.jsx)(x.Z,{className:"h-5 w-5"})," "]})]}),(0,p.jsxs)("form",{onSubmit:s.handleSubmit,className:"mt-[5%]",children:[(0,p.jsxs)("div",{className:"form-wrapper w-[50%]",children:[(0,p.jsx)(h,{id:"selectDpt",label:"Department",name:"department",placeholder:"Choose your department",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.department,options:a,formik:s}),(0,p.jsx)(m.Z,{id:"agentUserNameInp",label:"Username",placeholder:"Enter username",name:"username",value:s.values.username,onChange:s.handleChange,onBlur:s.handleBlur,formik:s}),(0,p.jsxs)(m.Z,{id:"agentCreatePassInp",label:"Create Password",placeholder:"Enter password",type:"password",name:"password",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,formik:s,children:[(0,p.jsx)(v.Z,{className:"h-5 w-5"}),(0,p.jsx)(f.Z,{className:"h-5 w-5"})]}),(0,p.jsxs)(m.Z,{id:"agentConfirmPassInp",label:"Re-enter Password",placeholder:"adarsh@123",type:"password",name:"confirmPassword",value:s.values.confirmPassword,onChange:s.handleChange,onBlur:s.handleBlur,formik:s,children:[(0,p.jsx)(v.Z,{className:"h-5 w-5"}),(0,p.jsx)(f.Z,{className:"h-5 w-5"})]})]}),(0,p.jsxs)("div",{className:"btn-container my-[2%] flex items-center justify-end",children:[(0,p.jsx)(u.Z,{type:"reset",label:"Cancel",width:"20%",btnStyle:"outline",onClick:function(){return r({show:!1})}}),o?(0,p.jsx)(u.Z,{label:"Update",width:"20%"}):(0,p.jsx)(u.Z,{label:"Create",width:"20%"})]})]})]})},w=function(){var e=(0,a.useState)(""),r=(0,n.Z)(e,2),t=r[0],i=r[1],h=(0,a.useState)({show:!1,id:"",username:"",department:""}),m=(0,n.Z)(h,2),x=m[0],v=m[1],f=(0,d.Z)().agentList;l(f,"username",t);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"p-[2%]",children:[(0,p.jsx)("h2",{className:"text-[1.3rem] font-medium leading-7 text-[#353945]",children:"Agent"}),(0,p.jsxs)("div",{className:"flex items-center justify-between my-[1%]",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between rounded w-[30%] bg-white border p-[4px] drop-shadow border-[#CFDEF4]",children:[(0,p.jsx)("img",{src:s.Z,alt:"search icon",className:"w-[18px] ml-2 relative bottom-[1px]"}),(0,p.jsx)("input",{placeholder:"Search for agents",type:"text",className:"focus:outline-none w-[90%] h-[30px]",onChange:function(e){i(e.target.value)},value:t})]}),(0,p.jsx)(u.Z,{btnStyle:"fill",label:"New Agent",width:"20%",onClick:function(){return v({show:!0,id:"",username:"",department:""})}})]}),(0,p.jsx)("div",{className:"max-h-[65vh] mt-[2%] overflow-hidden border-2 border-t-0 rounded-[8px] overflow-scroll",children:(0,p.jsxs)("table",{className:"w-[100%] rounded-[8px]  max-h-[80%]",children:[(0,p.jsx)("thead",{className:"rounded-[8px] sticky top-0 h-[56px]",children:(0,p.jsxs)("tr",{className:"rounded-t-[8px]",children:[(0,p.jsx)("th",{className:"bg-[#E7E7E7] first:rounded-tl-[8px] text-left pl-[24px] text-[0.9rem] font-normal first:w-[30%]",children:"Agent"}),(0,p.jsx)("th",{className:"bg-[#E7E7E7]  text-left p-[8px] pl-[24px] text-[0.9rem] font-normal",children:"Department"}),(0,p.jsx)("th",{className:"bg-[#E7E7E7] last:rounded-tr-[8px] text-left p-[8px] pl-[24px] text-[0.9rem] font-normal last:text-right last:pr-[24px] last:w-[10%]",children:"Action"})]})}),(0,p.jsxs)("tbody",{children:[JSON.stringify(null===f||void 0===f?void 0:f.result),(null===f||void 0===f?void 0:f.length)>0?null===f||void 0===f?void 0:f.map((function(e,r){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"border-b h-[30px] py-[14px] pl-[24px] first:w-[30%]",children:null===e||void 0===e?void 0:e.username}),(0,p.jsx)("td",{className:"border-b h-[30px] py-[14px] pl-[24px]",children:(0,p.jsx)("span",{className:"border-2 border-[#CFDEF4] rounded-[8px] p-[8px] font-[300] text-[1rem] drop-shadow-[0_35px_35px_rgba(207, 222, 244, 1)]",children:null===e||void 0===e?void 0:e.department})}),(0,p.jsx)("td",{className:"border-b h-[30px] py-[14px] pl-[24px] last:text-right last:pr-[30px] last:w-[10%]",children:(0,p.jsx)("button",{onClick:function(){return v({show:!0,id:e.id,username:e.username,department:e.department})},className:"border-2 border-[#CFDEF4] rounded-[8px] p-[8px] drop-shadow-[0_35px_35px_rgba(207, 222, 244, 1)]",children:(0,p.jsx)("img",{src:o,alt:"edit icon",className:""})})})]},r)})):(0,p.jsx)("tr",{children:(0,p.jsx)("td",{colSpan:"3",className:"border-b h-[30px] py-[14px] text-center",children:"No data"})})]})]})}),(0,p.jsx)(c(),{isOpen:null===x||void 0===x?void 0:x.show,onRequestClose:function(){return v({show:!1,id:"",username:"",department:""})},style:{transform:"translate(-50%, -50%)"},children:(0,p.jsx)(b,{modal:x,setModal:v})})]})})}},8485:function(e,r,t){var n=t(4165),a=t(5861),s=t(885),o=t(5705),u=t(2791),l=t(8007),i=t(5953),c=t(5985),d=t(8986);r.Z=function(e,r){var t=(0,u.useState)([]),p=(0,s.Z)(t,2),h=p[0],m=p[1],x=(0,u.useState)([]),v=(0,s.Z)(x,2),f=v[0],b=v[1],w=(0,u.useCallback)((function(){i.Z.getAgents().then((function(e){var r;return m(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.result)})).catch((function(e){return m([])}))}),[]);(0,u.useEffect)((function(){w()}),[w]);var Z={department:e?null===r||void 0===r?void 0:r.department:"",username:e?null===r||void 0===r?void 0:r.username:"",password:"",confirmPassword:""},g=l.Ry({username:l.Z_().required("Username is required!"),password:l.Z_().min(4,"Password must be atleast 4 characters long").required("Password is required!"),confirmPassword:l.Z_().oneOf([l.iH("password"),null],"Password not match!").required("Confirm Password is required!"),department:l.Z_().required("Department is required!")}),j=l.Ry({username:l.Z_().required("Username is required!"),password:l.Z_().min(4,"Password must be atleast 4 characters long").required("Password is required!"),confirmPassword:l.Z_().oneOf([l.iH("password"),null],"Password not match!").required("Confirm Password is required!"),department:l.Z_().required("Department is required!")}),C=e?j:g;(0,u.useEffect)((function(){return i.Z.getDepartments().then((function(e){b(e.data)})).catch((function(e){return b([])})),function(){b([])}}),[]);var N=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(a,s){var o,u,l,p,h,m,x,v,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=s.resetForm,u="",l={department:a.department,username:a.username,password:a.password},!e){t.next=11;break}return t.next=6,i.Z.editAgent(l,null===r||void 0===r?void 0:r.id);case 6:h=t.sent,u=null===h||void 0===h||null===(p=h.stack)||void 0===p?void 0:p.split("\n")[0],200===(null===h||void 0===h?void 0:h.statusCode)&&(u=null===h||void 0===h?void 0:h.message,o()),t.next=21;break;case 11:return x=new d.ZP,t.next=14,new Promise((function(e){x.on("open",(function(r){return e(r)}))}));case 14:return v=t.sent,l.peerId=v,t.next=18,i.Z.createAgent(l);case 18:f=t.sent,u=null===f||void 0===f||null===(m=f.stack)||void 0===m?void 0:m.split("\n")[0],200===(null===f||void 0===f?void 0:f.statusCode)&&(u=null===f||void 0===f?void 0:f.message,o());case 21:(0,c.Am)("".concat(u),{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return{agentList:h,departmentList:f,formik:(0,o.TA)({initialValues:Z,validationSchema:C,onSubmit:N})}}},5953:function(e,r,t){var n=t(4165),a=t(5861),s=t(5099),o=t(6359),u={getDepartments:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get(s.ZP.DEPARTMENT);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),editDepartments:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.patch("".concat(s.ZP.DEPARTMENT,"/").concat(t),r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,t){return e.apply(this,arguments)}}(),addDepartments:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post(s.ZP.DEPARTMENT,r);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),createAgent:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.post(s.ZP.AGENT,r);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),editAgent:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.patch("".concat(s.ZP.AGENT,"/").concat(t),r);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,t){return e.apply(this,arguments)}}(),deleteAgent:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.delete("".concat(s.ZP.AGENT,"/").concat(r));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),getAgents:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get(s.ZP.AGENT);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),createTicket:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,o.Z.post(s.ZP.TICKET,r);case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),saveCallDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,o.Z.post(s.ZP.CALL_DETAILS,r);case 4:return t=e.sent,console.log("response",t),e.abrupt("return",t.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),updateCallDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t,a,u,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:{},t=l.length>1?l[1]:void 0,console.log("idddddparams",t),e.prev=3,e.next=6,o.Z.patch("".concat(s.ZP.CALL_DETAILS,"/").concat(t),r);case 6:return u=e.sent,e.abrupt("return",null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.id);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),getCallDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,o.Z.get(s.ZP.CALL_DETAILS,r);case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()};r.Z=u}}]);
//# sourceMappingURL=71.d427a273.chunk.js.map