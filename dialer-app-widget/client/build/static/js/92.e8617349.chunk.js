"use strict";(self.webpackChunkdialer_app=self.webpackChunkdialer_app||[]).push([[92],{9008:function(e,t,r){r(2791);t.Z=r.p+"static/media/closeicon.62fda34b5717a759204950619e9698b5.svg"},2634:function(e,t,r){r(2791);t.Z=r.p+"static/media/searchicon.6bec5882e84ffe20b7fd011c414f7272.svg"},755:function(e,t,r){r(2791);var n=r(184);t.Z=function(e){var t=e.label,r=void 0===t?"Label":t,a=e.onClick,s=e.type,i=void 0===s?"":s,u=e.btnStyle,c=void 0===u?"fill":u,o=e.width,d=void 0===o?"100%":o;return(0,n.jsx)("button",{onClick:a,type:i,className:"mx-[8px] p-2.5 w-[".concat(d,"] h-[40px] rounded-[8px]  ").concat("fill"===c?"bg-[#3F8CFF] text-[#fff] hover:bg-[#387feb]":"border-[1px] hover:border-[2px] border-[#3F8CFF] text-[#3F8CFF]"),children:r})}},8105:function(e,t,r){var n=r(885),a=r(2791),s=r(184);t.Z=function(e){var t=e.id,r=e.label,i=e.placeholder,u=e.width,c=void 0===u?"100%":u,o=e.type,d=void 0===o?"text":o,l=e.name,p=e.value,f=e.onChange,m=e.onBlur,v=e.formik,h=e.className,x=e.children,b=a.Children.toArray(x),Z=(0,a.useState)("password"===d),g=(0,n.Z)(Z,2),w=g[0],j=g[1],k=(0,a.useRef)();return(0,s.jsxs)("div",{className:"w-[".concat(c,"]"),children:[(0,s.jsx)("label",{htmlFor:t,className:"text-[0.9rem] text-[#404385]",children:r}),(0,s.jsxs)("div",{className:h?"".concat(h," ").concat(v.touched[l]&&v.errors[l]?"border-[#bb3d34]":"border-[#CFDEF4]"):"single-input-wrapper flex items-center justify-between my-[12px] bg-[#fff] border-[2px] ".concat(v.touched[l]&&v.errors[l]?"border-[#bb3d34]":"border-[#CFDEF4]"," drop-shadow-[0_0_2px_#CFDEF4]  focus:outline-none rounded-[4px] h-[40px]"),children:[(0,s.jsx)("input",{ref:k,id:t,type:d,name:l,className:"w-[100%] h-full p-[8px] text-[0.9rem] focus:outline-none",placeholder:i,onChange:f,value:p,onBlur:m}),(0,s.jsx)("span",{className:"mr-[10px] cursor-pointer",onClick:"password"===d&&function(){switch(k.current.type){case"password":k.current.type="text",j(!1);break;case"text":k.current.type="password",j(!0);break;default:j(!1)}},children:x&&1===b.length?x:!0===w?b[0]:b[1]})]}),v.touched[l]&&v.errors[l]?(0,s.jsx)("p",{className:"text-[14px] text-red-600 relative bottom-[8px]",children:v.errors[l]}):null]})}},8485:function(e,t,r){var n=r(4165),a=r(5861),s=r(885),i=r(5705),u=r(2791),c=r(8007),o=r(5953),d=r(5985),l=r(8986);t.Z=function(e,t){var r=(0,u.useState)([]),p=(0,s.Z)(r,2),f=p[0],m=p[1],v=(0,u.useState)([]),h=(0,s.Z)(v,2),x=h[0],b=h[1],Z=(0,u.useCallback)((function(){o.Z.getAgents().then((function(e){var t;return m(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.result)})).catch((function(e){return m([])}))}),[]);(0,u.useEffect)((function(){Z()}),[Z]);var g={department:e?null===t||void 0===t?void 0:t.department:"",username:e?null===t||void 0===t?void 0:t.username:"",password:"",confirmPassword:""},w=c.Ry({username:c.Z_().required("Username is required!"),password:c.Z_().min(4,"Password must be atleast 4 characters long").required("Password is required!"),confirmPassword:c.Z_().oneOf([c.iH("password"),null],"Password not match!").required("Confirm Password is required!"),department:c.Z_().required("Department is required!")}),j=c.Ry({username:c.Z_().required("Username is required!"),password:c.Z_().min(4,"Password must be atleast 4 characters long").required("Password is required!"),confirmPassword:c.Z_().oneOf([c.iH("password"),null],"Password not match!").required("Confirm Password is required!"),department:c.Z_().required("Department is required!")}),k=e?j:w;(0,u.useEffect)((function(){return o.Z.getDepartments().then((function(e){b(e.data)})).catch((function(e){return b([])})),function(){b([])}}),[]);var y=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a,s){var i,u,c,p,f,m,v,h,x;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=s.resetForm,u="",c={department:a.department,username:a.username,password:a.password},!e){r.next=11;break}return r.next=6,o.Z.editAgent(c,null===t||void 0===t?void 0:t.id);case 6:f=r.sent,u=null===f||void 0===f||null===(p=f.stack)||void 0===p?void 0:p.split("\n")[0],200===(null===f||void 0===f?void 0:f.statusCode)&&(u=null===f||void 0===f?void 0:f.message,i()),r.next=21;break;case 11:return v=new l.ZP,r.next=14,new Promise((function(e){v.on("open",(function(t){return e(t)}))}));case 14:return h=r.sent,c.peerId=h,r.next=18,o.Z.createAgent(c);case 18:x=r.sent,u=null===x||void 0===x||null===(m=x.stack)||void 0===m?void 0:m.split("\n")[0],200===(null===x||void 0===x?void 0:x.statusCode)&&(u=null===x||void 0===x?void 0:x.message,i());case 21:(0,d.Am)("".concat(u),{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 22:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return{agentList:f,departmentList:x,formik:(0,i.TA)({initialValues:g,validationSchema:k,onSubmit:y})}}},4092:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(885),a=r(2791);r(2634);r.p;var s=r(184);var i=r.p+"static/media/editIcon.e28ee5a884dbf34ee620e4fbea275894.svg",u=r(755),c=r(4165),o=r(5861),d=r(8007),l=r(5953),p=r(5705),f=function(e,t){var r=(0,a.useState)([]),s=(0,n.Z)(r,2),i=s[0],u=s[1],f=(0,a.useState)([]),m=(0,n.Z)(f,2),v=m[0],h=m[1],x=(0,a.useCallback)((function(){l.Z.getDepartments().then((function(e){return u(null===e||void 0===e?void 0:e.data)})).catch((function(e){return u([])}))}),[]),b=(0,a.useCallback)((function(){l.Z.getAgents().then((function(e){var t;return h(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.result)})).catch((function(e){return h([])}))}),[]);(0,a.useEffect)((function(){x(),b()}),[x,b]);var Z={department:e?null===t||void 0===t?void 0:t.name:""},g=d.Ry({department:d.Z_().required("Department is required!")}),w=function(){var r=(0,o.Z)((0,c.Z)().mark((function r(n,a){var s;return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=a.resetForm,!e){r.next=6;break}return r.next=4,l.Z.editDepartments(n,t.id);case 4:r.next=9;break;case 6:return r.next=8,l.Z.addDepartments(n);case 8:s();case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return{departmentList:i,formik:(0,p.TA)({initialValues:Z,validationSchema:g,onSubmit:w}),deleteAgent:function(e){alert("close clicked ".concat(e))},agentList:v}},m=r(9008),v=r(8105),h=function(e){var t=e.setModal,r=e.modal,n=!!e.id,a=f(n,r).formik;return(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,s.jsx)("div",{className:"relative  my-6 w-[40%]",children:(0,s.jsx)("form",{onSubmit:a.handleSubmit,className:"",children:(0,s.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,s.jsxs)("div",{className:"flex justify-between p-5 border-b border-solid border-slate-200 rounded-t",children:[(0,s.jsxs)("h3",{className:"text-2xl font-semibold",children:[n?"Edit":"Add"," Department"]}),(0,s.jsx)("button",{children:(0,s.jsx)("button",{type:"button",onClick:function(){return t({show:!1,id:"",name:""})},children:(0,s.jsx)("img",{src:m.Z,alt:""})})})]}),(0,s.jsx)("div",{className:"relative p-6 flex flex-col gap-5",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"text-[#404385]",children:"Name"}),(0,s.jsx)(v.Z,{id:"dpt",placeholder:"Enter department name",name:"department",value:a.values.department,onChange:a.handleChange,onBlur:a.handleBlur,formik:a,className:" border border-primary-light shadow-md rounded-md box-border flex p-4 gap-4  w-full h-12 left-6 mb-5 top-36"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b",children:[(0,s.jsx)("button",{type:"button",onClick:function(){return t({show:!1,id:"",name:""})},class:"py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-[#3F8CFF] focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100  focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",class:"text-white bg-[#3F8CFF] hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Save"})]})]})})})}),(0,s.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})},x=(r(8485),function(){var e=(0,a.useState)({show:!1,id:"",name:""}),t=(0,n.Z)(e,2),r=t[0],c=t[1],o=f(),d=o.departmentList,l=(o.formik,o.deleteAgent,o.agentList);null===r||void 0===r||r.id;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:" w-full h-[100vh] p-8",children:[(0,s.jsx)("p",{className:"font-medium text-2xl",children:"Departments"}),(0,s.jsxs)("div",{className:"flex justify-between  space-x1",children:[(0,s.jsx)("div",{className:"pt-5 w-80 items-start items-center"}),(0,s.jsx)("div",{className:"items-end pt-5 items-center ",children:(0,s.jsx)(u.Z,{btnStyle:"fill",label:"New Department",width:"50",onClick:function(){c({show:!0,id:"",name:""})}})})]}),(0,s.jsx)("div",{className:"border mt-[20px] border-solid border-[#E7E7E7] rounded-t-lg",children:(0,s.jsxs)("table",{class:"table-auto w-full divide-y text-left  ",children:[(0,s.jsx)("thead",{className:"bg-[#FBFAFA]  h-14 ",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-4 font-normal text-[#6B6B6B]",children:"Department"}),(0,s.jsx)("th",{className:"p-4 font-normal text-[#6B6B6B]",children:"Members"}),(0,s.jsx)("th",{className:"p-4 font-normal text-[#6B6B6B]",children:"Action"})]})}),(0,s.jsx)("tbody",{children:d.map((function(e){return(0,s.jsxs)("tr",{className:"border-b",children:[(0,s.jsx)("td",{className:"p-4 text-[#6B6B6B]",children:e.name}),(0,s.jsx)("td",{className:"p-4 flex text-[#6B6B6B]",children:(null===l||void 0===l?void 0:l.length)>0&&l.filter((function(t){return t.department===e.name})).length}),(0,s.jsx)("td",{className:"p-4 ",children:(0,s.jsx)("div",{className:"flex ",children:(0,s.jsx)("button",{onClick:function(){return c({show:!0,id:e.id,name:e.name})},className:"bg-[white] border border-[#CFDEF4] flex items-center justify-center  rounded-lg w-12 h-12",children:(0,s.jsx)("img",{src:i,width:25,height:25})})})})]})}))})]})})]}),(0,s.jsx)("div",{className:"w-[50%]",children:!0===(null===r||void 0===r?void 0:r.show)&&(0,s.jsx)(h,{setModal:c,modal:r,id:null===r||void 0===r?void 0:r.id})})]})})},5953:function(e,t,r){var n=r(4165),a=r(5861),s=r(5099),i=r(6359),u={getDepartments:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get(s.ZP.DEPARTMENT);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),editDepartments:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.patch("".concat(s.ZP.DEPARTMENT,"/").concat(r),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),addDepartments:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post(s.ZP.DEPARTMENT,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),createAgent:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.post(s.ZP.AGENT,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),editAgent:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.patch("".concat(s.ZP.AGENT,"/").concat(r),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),deleteAgent:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.delete("".concat(s.ZP.AGENT,"/").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),getAgents:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get(s.ZP.AGENT);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),createTicket:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,i.Z.post(s.ZP.TICKET,t);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),saveCallDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,i.Z.post(s.ZP.CALL_DETAILS,t);case 4:return r=e.sent,console.log("response",r),e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),updateCallDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a,u,c=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},r=c.length>1?c[1]:void 0,console.log("idddddparams",r),e.prev=3,e.next=6,i.Z.patch("".concat(s.ZP.CALL_DETAILS,"/").concat(r),t);case 6:return u=e.sent,e.abrupt("return",null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.id);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),getCallDetails:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,i.Z.get(s.ZP.CALL_DETAILS,t);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()};t.Z=u}}]);
//# sourceMappingURL=92.e8617349.chunk.js.map